# pentesting
[Penetration Testing course at Haaga-Helia, fall 2018](http://terokarvinen.com/2018/penetration-testing-course-autumn-2018)

This course was taught by [Tero Karvinen](http://terokarvinen.com) at Haaga-Helia University of Applied Sciences in the fall of 2018. The course is the first of its kind at the school, and aims to teach students some basic pentesting skills to use in future cyber security tasks.

During this course, all targets are self-hosted or otherwise legal to attack.

## First assignment
>1) Kokeile valitsemaasi OWASP 10 hyökkäystä omalle koneellesi. Tässä harjoituksessa saa käyttää vain omalle, paikalliselle koneelle asennettuja harjoitusmaaleja.  
>Vinkkejä: Voit etsiä jonkin valmiin haavoittuvan ohjelmiston, asentaa sen ja kokeilla valmista hyökkäystä suoraan spoilerista/ohjetekstistä. Tarkoitus on siirtyä hyökkäyksistä puhumisesta niiden kokeilemiseen. Jos osaat koodata, voit tehdä haavoittuvan ohjelman myös itse. Tämä näytti aika haavoittuvalta ja on helppo asentaa: Install Metasploitable 3 – Vulnerable Target Computer. Vinkkejä: Teron haavoittuva ohjelma: Vulnerable Super Secure Password Recover – SQL Injection Example. Kaikkein helpoin vaihtoehto on asentaa Metasploitable 3 ja vilkaista payroll_app.php -ohjelmaa.  
>2) Vapaaehtoinen: Kokeile useita OWASP 10 hyökkäyksiä omalla koneellasi olevaan harjoitusmaaliin. Montako saa toteutettua käytännössä?

I started the first exercise by [installing Metasploitable3](http://terokarvinen.com/2018/install-metasploitable-3-vulnerable-target-computer) on my laptop (Host OS is Xubuntu 18.04). I checked the functionality first with curl and then with Firefox.

Since the hint was pretty obvious, I got in by making a simple SQL injection `' or '1'='1' or 'foo`. This presented me with a full listing of saved usernames, actual names and salaries (who thought paying droids was a good idea?).

![h1](https://github.com/jisosomppi/pentesting/blob/master/Screenshot_2018-08-25_22-37-03.png)

## Second assignment
>1) Tiedustele aktiivisesti HackTheBoxin verkko. Voit käyttää esimerkiksi porttiskannereita, metasploittia, selainta, curl -I, nc ja muita osaamiasi työkaluja. Raportoi. Laita HackTheBoxin ratkaisut yksinkertaisen salasanan taakse, ei julkiseen nettiin. Salasanan voit antaa opettajalle Moodleen ja kurssikavereille, ei julkiseen nettiin.
>2) Tee WebGoatista kolme tehtävää. Asenna WebGoat tarvittaessa. Ratkaisut saa julkaista normaalisti koko Internetille. Vinkki: edellisen kerran läksyjen raporteissa tällä sivulla on helppoja asennusohjeita WebGoatille.
>3) Vapaaehtoinen: Ratko lisää WebGoatin tehtäviä.
>4) Vapaaehtoinen, vaikea: Jos osaat, korkaa jokin maalikone HackTheBoxista. Muista sallitut rajat eli scope. Apupyörinä voit käyttää HackTheBoxin weppiliittymästä löytyvää konelistaa vaikeustason mukaan järjestettynä.

### 1) 
My solutions to Hack the Box assignments are not listed here to adhere to their policy of no public sharing.  
[My solutions can be found here.](http://jisosomppi.me/htb.pdf) Password provided if needed!

### 2)
I downloaded the two files, WebGoat and WebWolf, from https://github.com/WebGoat/WebGoat/releases and started them up with the command  `java --add-modules java.xml.bind -jar webgoat-server-8.0.0.M21.jar`  and `java --add-modules java.xml.bind -jar webwolf-8.0.0.M21.jar` as my Java version (`java -version`) was 10.0.2 and thus greater than 9. After this I accessed WebGoat by navigating to `http://localhost:8080/WebGoat`, which directed me to the login page. The login for WebWolf can be found at `http://localhost:9090/login` and uses the same account name and password as WebGoat.

The HTTP Basics assignment is solved simply by checking the source code of the page, it contains the magic number in clear text. This could be avoided by using server-side scripts instead of writing them in the HTML.

The SQL injection (basic) is quite easy, the form dumps the entire database with a correctly formatted string. In my case the string used was `Smith' or 1=1 --`.

In SQL injection (advanced), pulling the other table can be done by entering `Smith';select * from user_system_data;--`. This shows the entire table, including Daves password `passW0rD` (Nice one, Dave!).

### 4)
I owned a target machine! I started with what seems to be the easiest target, Jerry. I solved two of the Crypto challenges, "Sick Teacher" and "Classic, yet complicated". More info in the password-protected file!
